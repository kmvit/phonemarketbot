═══════════════════════════════════════════════════════════════════════════════
  ИНСТРУКЦИЯ ДЛЯ АДМИНИСТРАТОРА БОТА
═══════════════════════════════════════════════════════════════════════════════

Это подробная инструкция по использованию админ-панели бота для управления 
товарами, наценками и заказами.

═══════════════════════════════════════════════════════════════════════════════
  ДОСТУП К АДМИН-ПАНЕЛИ
═══════════════════════════════════════════════════════════════════════════════

1. Запустите бота командой /start
2. В главном меню нажмите кнопку "Админка"
3. Если у вас есть права администратора, откроется админ-панель с кнопками 
   управления

═══════════════════════════════════════════════════════════════════════════════
  ЗАГРУЗКА ПРАЙСА
═══════════════════════════════════════════════════════════════════════════════

ЗАГРУЗКА ОБЫЧНОГО ПРАЙСА

1. Нажмите кнопку "📊 Загрузить прайс"
2. Отправьте Excel файл (.xlsx или .xls) с прайс-листом
3. Бот обработает файл и загрузит товары в базу данных
4. После загрузки вы получите сообщение с количеством загруженных товаров

Что происходит при загрузке:
- Старые товары того же типа заменяются новыми
- К ценам автоматически применяется текущая наценка
- Товары распределяются по категориям автоматически

Поддерживаемые форматы Excel:
- Стандартный формат: Множество колонок с заголовками товаров
- Упрощенный формат: Две колонки (Название товара, Цена)

ЗАГРУЗКА ПРАЙСА ПРЕДЗАКАЗА

1. Нажмите кнопку "📦 Прайс предзаказа"
2. Отправьте Excel файл с прайсом предзаказа
3. Товары будут загружены в отдельную таблицу предзаказов

Отличие от обычного прайса:
- Товары предзаказа отображаются отдельно в интерфейсе пользователя
- У пользователей есть отдельная корзина для предзаказов
- Предзаказы не смешиваются с обычными товарами

═══════════════════════════════════════════════════════════════════════════════
  НАСТРОЙКА НАЦЕНКИ
═══════════════════════════════════════════════════════════════════════════════

УСТАНОВКА НАЦЕНКИ

1. Нажмите кнопку "⚙️ Настройка наценки"
2. Бот покажет текущую наценку и попросит ввести новую
3. Введите сумму наценки в рублях (например: 100)
4. Нажмите отправить
5. Наценка будет установлена и применена к новым загрузкам прайса

Примеры:
- 0 - без наценки
- 100 - наценка 100 рублей к каждому товару
- 500 - наценка 500 рублей к каждому товару

ВАЖНО: Наценка применяется только к НОВЫМ загрузкам прайса. Для применения 
наценки к существующим товарам нужно перезагрузить прайс.

ПРОСМОТР ТЕКУЩЕЙ НАЦЕНКИ

1. Нажмите кнопку "📈 Текущая наценка"
2. Бот покажет:
   - Текущую наценку в рублях
   - Количество товаров в базе
   - Количество категорий

═══════════════════════════════════════════════════════════════════════════════
  СТАТИСТИКА
═══════════════════════════════════════════════════════════════════════════════

1. Нажмите кнопку "📋 Статистика"
2. Бот покажет:
   - Общее количество товаров в базе
   - Количество категорий
   - Текущую наценку
   - Топ-5 категорий по количеству товаров

Эта информация поможет вам отслеживать состояние базы данных и популярность 
категорий.

═══════════════════════════════════════════════════════════════════════════════
  ПЕРСОНАЛЬНЫЕ НАЦЕНКИ
═══════════════════════════════════════════════════════════════════════════════

Вы можете устанавливать индивидуальные наценки для конкретных пользователей. 
Это полезно для предоставления скидок или специальных условий.

МЕНЮ ПЕРСОНАЛЬНЫХ НАЦЕНОК

1. Нажмите кнопку "👤 Персональные проценты"
2. Бот покажет инструкцию по использованию команд

ДОБАВЛЕНИЕ/ИЗМЕНЕНИЕ ПЕРСОНАЛЬНОЙ НАЦЕНКИ

Команда: +user [ID] [сумма]

Примеры:
+user 123456789 50
Установит наценку 50 рублей для пользователя с ID 123456789

+user 987654321 0
Уберет наценку (наценка 0 рублей) для пользователя с ID 987654321

Как узнать ID пользователя:
- ID пользователя можно увидеть в деталях заказа
- Пользователь может узнать свой ID, отправив боту команду /start (если 
  эта функция реализована)

УДАЛЕНИЕ ПЕРСОНАЛЬНОЙ НАЦЕНКИ

Команда: -user [ID]

Пример:
-user 123456789
Удалит персональную наценку для пользователя. После удаления будет 
применяться стандартная наценка.

ПРОСМОТР СПИСКА ВСЕХ ПЕРСОНАЛЬНЫХ НАЦЕНОК

Команда: list

Покажет список всех пользователей с персональными наценками:
- ID пользователя
- Сумма наценки
- Дата последнего обновления

ПРОВЕРКА НАЦЕНКИ ПОЛЬЗОВАТЕЛЯ

Команда: check [ID]

Пример:
check 123456789

Покажет:
- Есть ли у пользователя персональная наценка
- Если есть - какая сумма наценки
- Если нет - какая стандартная наценка применяется

═══════════════════════════════════════════════════════════════════════════════
  УПРАВЛЕНИЕ ЗАКАЗАМИ
═══════════════════════════════════════════════════════════════════════════════

ПРОСМОТР ВСЕХ ЗАКАЗОВ

1. Нажмите кнопку "📦 Заказы"
2. Бот покажет список последних 10 заказов с информацией:
   - Номер заказа
   - Имя пользователя и username
   - Telegram ID пользователя
   - Сумма заказа
   - Статус заказа (новый, выполнен, в процессе)
   - Дата создания

3. После списка заказов бот отправит детальную информацию по каждому заказу:
   - Полная информация о пользователе
   - Ссылка для связи с пользователем
   - Список всех позиций заказа
   - Количество каждого товара
   - Цена каждой позиции
   - Итоговая сумма

СТАТУСЫ ЗАКАЗОВ

- 🆕 new - новый заказ (только что создан)
- ⏳ in_progress - заказ в процессе обработки
- ✅ completed - заказ выполнен

ПРИМЕЧАНИЕ: Изменение статуса заказа в данный момент выполняется через базу 
данных напрямую. В будущих версиях это можно будет делать через админ-панель.

═══════════════════════════════════════════════════════════════════════════════
  ВЫХОД ИЗ АДМИН-ПАНЕЛИ
═══════════════════════════════════════════════════════════════════════════════

1. Нажмите кнопку "🔙 Назад"
2. Вы вернетесь в главное меню пользователя

═══════════════════════════════════════════════════════════════════════════════
  ВАЖНЫЕ ЗАМЕЧАНИЯ
═══════════════════════════════════════════════════════════════════════════════

РАБОТА С НАЦЕНКАМИ

- Наценка применяется только при загрузке прайса
- Чтобы применить новую наценку к существующим товарам, нужно перезагрузить 
  прайс
- Персональные наценки имеют приоритет над стандартной наценкой
- Если у пользователя нет персональной наценки, применяется стандартная

ФОРМАТ ПРАЙС-ЛИСТОВ

- Используйте только файлы Excel (.xlsx или .xls)
- Убедитесь, что файл содержит корректные данные о товарах
- Проверяйте количество загруженных товаров после каждой загрузки

ОБРАБОТКА ОШИБОК

Если при загрузке прайса возникает ошибка:
1. Проверьте формат файла
2. Убедитесь, что файл не поврежден
3. Проверьте, что в файле есть необходимые колонки
4. Попробуйте загрузить файл снова

═══════════════════════════════════════════════════════════════════════════════

